<p>Users</p>
<form [formGroup]="userForm" (ngSubmit)="addUser()" (change)="onUserSelect($event)">
  <label for="title">Title: </label>
  <input id="title" type="text" formControlName="title">

  <label for="firstName">First Name: </label>
  <input id="firstName" type="text" formControlName="firstName">

  <label for="lastName">Last Name: </label>
  <input id="lastName" type="text" formControlName="lastName">

  <button type="submit">Submit</button>

  <label for="userDropdown">Select User:</label>
  <select id="userDropdown" formControlName="id">
    <option *ngFor="let user of users" [value]="user.id">{{ user.firstName }} {{ user.lastName }}</option>
  </select>

  <p>Books</p>
  <div *ngFor="let book of books">
    <p>{{book.title}}, {{book.author}}</p>
    <button *ngIf="!isBookLoaned(book)" (click)="loanBook(book)" [disabled]="!selectedUser">Loan Book</button>
    <button *ngIf="isBookLoaned(book)" (click)="onLoanReturnBook(book)" [disabled]="!selectedUser">Return Book</button>
</div>
</form>

